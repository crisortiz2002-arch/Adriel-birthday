<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Invitaci√≥n ‚Ä¢ Cumple de Adriel</title>

  <!-- Metadatos sociales -->
  <meta property="og:title" content="¬°Te invito a mi cumple!" />
  <meta property="og:description" content="Acomp√°√±ame a celebrar. Confirma y guarda la fecha." />
  <meta property="og:image" content="img/preview.jpg" /> <!-- TODO: cambia con tu preview -->
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#2b6cb0" />

  <style>
    :root{
      --accent: #2b6cb0;          /* azul pastel-acentuado */
      --accent-2: #c6a136;        /* dorado suave */
      --text: #0f172a;            /* slate-900 */
      --soft: rgba(255,255,255,.85);
      --card-bg: rgba(255,255,255,.75);
      --card-stroke: rgba(255,255,255,.55);
      --btn-grad-a: #3b82f6;
      --btn-grad-b: #2563eb;
      --radius-2xl: 1.25rem;
      --shadow: 0 10px 30px rgba(0,0,0,.15);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif;
      color: var(--text);
      line-height: 1.5;
      overflow-x: hidden;
      background:#0b1020;
    }

    /* Fondo con imagen + degradados que acompa√±an el scroll */
    .page-bg{
      position: fixed;
      inset: 0;
      z-index: -1;
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(198,161,54,.25), transparent 60%),
        radial-gradient(1000px 800px at -10% 110%, rgba(43,108,176,.25), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.35) 70%),
        url("img/bg@2x.webp"); /* TODO: tu imagen en alta resoluci√≥n */
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      filter: saturate(1.05) contrast(1.02);
    }

    /* Contenedor principal */
    .wrap{
      max-width: 960px;
      margin: 0 auto;
      padding: clamp(16px, 3vw, 32px);
    }

    header.hero{
      display: grid;
      grid-template-columns: 1fr;
      gap: 18px;
      margin-top: clamp(24px, 5vw, 48px);
      align-items: center;
    }
    @media (min-width: 820px){
      header.hero{
        grid-template-columns: .9fr 1.1fr;
        gap: 28px;
      }
    }

    .card{
      background: var(--card-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--card-stroke);
      border-radius: var(--radius-2xl);
      box-shadow: var(--shadow);
      padding: clamp(16px, 2.5vw, 28px);
    }

    .title{
      font-size: clamp(28px, 5vw, 44px);
      margin: 0 0 6px;
      font-weight: 800;
      letter-spacing: .2px;
    }
    .subtitle{
      margin: 0 0 14px;
      font-size: clamp(16px, 2.2vw, 18px);
      opacity: .9;
    }

    .avatar{
      width: 100%;
      aspect-ratio: 1.1 / 1;
      object-fit: contain;
      display: block;
      background: rgba(255,255,255,.6);
      border-radius: var(--radius-2xl);
      border: 1px solid var(--card-stroke);
      box-shadow: var(--shadow);
    }

    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.85);
      border:1px solid var(--card-stroke);
      font-weight:600;
      margin-bottom: 10px;
    }
    .pill small{ opacity:.8 }

    /* Contador */
    .countdown{
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin: 14px 0 6px;
    }
    .timebox{
      background: linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.7));
      border:1px solid var(--card-stroke);
      border-radius: 14px;
      text-align:center;
      padding: 12px 10px;
      box-shadow: var(--shadow);
    }
    .timebox .num{
      font-size: clamp(22px, 4.5vw, 34px);
      font-weight: 800;
      line-height: 1.1;
    }
    .timebox .label{
      font-size: 12px;
      letter-spacing: .5px;
      text-transform: uppercase;
      opacity:.8;
    }

    /* Botones */
    .actions{
      display:flex; flex-wrap:wrap; gap: 10px; margin-top: 14px;
    }
    .btn{
      appearance: none;
      border: 0;
      cursor: pointer;
      padding: 12px 16px;
      border-radius: 14px;
      font-weight: 700;
      letter-spacing:.2px;
      color: white;
      background: linear-gradient(135deg, var(--btn-grad-a), var(--btn-grad-b));
      box-shadow: var(--shadow);
      transition: transform .15s ease, filter .2s ease;
      text-decoration: none;
      display: inline-flex; align-items:center; gap:8px;
    }
    .btn:focus-visible{ outline: 3px solid rgba(37,99,235,.45); outline-offset: 3px; }
    .btn:hover{ transform: translateY(-2px); filter: brightness(1.03); }
    .btn--ghost{
      background: rgba(255,255,255,.2);
      color: #fff;
      border: 1px solid rgba(255,255,255,.35);
    }

    /* Footer tipo bot√≥n */
    footer{
      margin: 36px auto 28px;
      max-width: 960px;
      padding: 0 clamp(16px, 3vw, 32px);
    }
    .footer-box{
      border-radius: var(--radius-2xl);
      border: 2px dashed rgba(255,255,255,.7);
      background: rgba(255,255,255,.25);
      color: #0b1020;
      padding: 16px;
      text-align:center;
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
      font-weight: 600;
    }
    .footer-box em{ color: var(--accent-2); font-style: normal; }

    /* Accesibilidad: respeta reduce motion */
    @media (prefers-reduced-motion: reduce){
      .btn{ transition: none; }
      .btn:hover{ transform:none; }
    }
  </style>
</head>
<body>
  <div class="page-bg" aria-hidden="true"></div>

  <main class="wrap">
    <header class="hero">
      <img class="avatar" src="img/caricatura-adriel@2x.webp" alt="Caricatura de Adriel sonriendo" />
      <section class="card">
        <div class="pill">üéâ <small>¬°Est√°s invitado!</small></div>
        <h1 class="title">Cumplea√±os de Adriel</h1>
        <p class="subtitle">
          Ven a celebrar con nosotros. Habr√° juegos, pastel y muchas sorpresas.  
          <strong>¬°No faltes!</strong>
        </p>

        <!-- Lugar y fecha -->
        <p class="subtitle">
          üìç <strong>Direcci√≥n:</strong> <span id="venue-text">Conjunto Los √Ålamos, Sal√≥n Comunal</span><br/>
          üóìÔ∏è <strong>Fecha y hora:</strong> <span id="datetime-text">S√°bado 20 de Septiembre, 16:00</span>
        </p>

        <!-- Contador -->
        <div class="countdown" aria-live="polite">
          <div class="timebox"><div class="num" id="dd">--</div><div class="label">D√≠as</div></div>
          <div class="timebox"><div class="num" id="hh">--</div><div class="label">Horas</div></div>
          <div class="timebox"><div class="num" id="mm">--</div><div class="label">Min</div></div>
          <div class="timebox"><div class="num" id="ss">--</div><div class="label">Seg</div></div>
        </div>

        <!-- Botones -->
        <div class="actions">
          <a id="btn-calendar" class="btn" href="#" target="_blank" rel="noopener">üìÖ Agregar a Google Calendar</a>
          <a id="btn-maps" class="btn btn--ghost" href="#" target="_blank" rel="noopener">üìç Ver en Maps</a>
          <button id="btn-share" class="btn">üîó Compartir invitaci√≥n</button>
        </div>
      </section>
    </header>

    <!-- Texto adicional (opcional) -->
    <section class="card" style="margin-top:16px">
      <h2 style="margin:0 0 8px; font-size:clamp(20px,3vw,26px)">Detalles</h2>
      <ul style="margin:0; padding-left:18px">
        <li>Lleva ropa c√≥moda.</li>
        <li>Si deseas, trae un juego de mesa para compartir.</li>
        <li>Confirmar asistencia por WhatsApp: <a href="https://wa.me/593999999999">+593 99 999 9999</a></li> <!-- TODO -->
      </ul>
    </section>
  </main>

  <footer>
    <div class="footer-box">
      üíô Gracias por ser parte de este d√≠a especial. <em>¬°Nos vemos en la fiesta!</em>
    </div>
  </footer>

  <script>
    // ====== CONFIG (TODO: ajusta estos valores) ======
    const EVENT = {
      title: "Cumplea√±os de Adriel",
      // Importante: Usa la zona local del p√∫blico; Guayaquil = America/Guayaquil (UTC-5)
      // Formato ISO local: "2025-09-20T16:00:00"
      startLocal: "2025-09-20T16:00:00",   // TODO
      endLocal:   "2025-09-20T19:00:00",   // TODO
      location: "Conjunto Los √Ålamos, Sal√≥n Comunal, Guayaquil", // TODO
      details: "Acomp√°√±anos a celebrar el cumple de Adriel. Juegos, pastel y sorpresas.",
      mapsQuery: "Conjunto Los √Ålamos, Sal√≥n Comunal, Guayaquil" // para Google Maps
    };

    // ====== Utilidades ======
    const pad = (n) => String(n).padStart(2,'0');
    const toGoogleDate = (isoLocal) => {
      // Convierte "YYYY-MM-DDTHH:mm:ss" local a formato UTC y cadena yyyymmddThhmmssZ para Google Calendar
      const dt = new Date(isoLocal);
      const y = dt.getUTCFullYear();
      const m = pad(dt.getUTCMonth()+1);
      const d = pad(dt.getUTCDate());
      const hh = pad(dt.getUTCHours());
      const mm = pad(dt.getUTCMinutes());
      const ss = pad(dt.getUTCSeconds());
      return `${y}${m}${d}T${hh}${mm}${ss}Z`;
    };

    // ====== Enlaces din√°micos ======
    const startGC = toGoogleDate(EVENT.startLocal);
    const endGC   = toGoogleDate(EVENT.endLocal);
    const calURL = new URL("https://calendar.google.com/calendar/render");
    calURL.searchParams.set("action", "TEMPLATE");
    calURL.searchParams.set("text", EVENT.title);
    calURL.searchParams.set("dates", `${startGC}/${endGC}`);
    calURL.searchParams.set("location", EVENT.location);
    calURL.searchParams.set("details", EVENT.details);

    const mapsURL = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(EVENT.mapsQuery)}`;

    document.getElementById("btn-calendar").href = calURL.toString();
    document.getElementById("btn-maps").href = mapsURL;

    // ====== Compartir (Web Share API con fallback) ======
    const shareBtn = document.getElementById("btn-share");
    shareBtn.addEventListener("click", async () => {
      const shareData = {
        title: EVENT.title,
        text: "¬°Acomp√°√±anos a celebrar! Guarda la fecha y mira la ubicaci√≥n:",
        url: window.location.href
      };
      if (navigator.share) {
        try { await navigator.share(shareData); }
        catch(e){ /* cancelado */ }
      } else {
        // Fallback: copia enlace
        try{
          await navigator.clipboard.writeText(shareData.url);
          shareBtn.textContent = "‚úÖ Enlace copiado";
          setTimeout(()=> shareBtn.textContent = "üîó Compartir invitaci√≥n", 1800);
        }catch(e){
          alert("Copia este enlace para compartir: " + shareData.url);
        }
      }
    });

    // ====== Contador regresivo ======
    const dd = document.getElementById("dd");
    const hh = document.getElementById("hh");
    const mm = document.getElementById("mm");
    const ss = document.getElementById("ss");

    function tick(){
      const now = new Date();
      const target = new Date(EVENT.startLocal);
      const diff = target - now;
      if (diff <= 0){
        dd.textContent = "00"; hh.textContent = "00"; mm.textContent = "00"; ss.textContent = "00";
        return;
      }
      const d = Math.floor(diff / (1000*60*60*24));
      const h = Math.floor((diff / (1000*60*60)) % 24);
      const m = Math.floor((diff / (1000*60)) % 60);
      const s = Math.floor((diff / 1000) % 60);
      dd.textContent = pad(d);
      hh.textContent = pad(h);
      mm.textContent = pad(m);
      ss.textContent = pad(s);
    }
    tick();
    setInterval(tick, 1000);

    // ====== Mejora de rendimiento percibido: precarga de imagen ======
    // Si cargas webp/jpg grande, esto evita parpadeo al pintar el fondo
    const bg = new Image();
    bg.src = "img/bg@2x.webp"; // TODO: mismo path que en CSS
    bg.fetchPriority = "high";
  </script>
</body>
</html>
